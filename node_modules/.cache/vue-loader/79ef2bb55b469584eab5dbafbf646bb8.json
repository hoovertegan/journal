{"remainingRequest":"C:\\Users\\tlh1203\\Desktop\\journal\\journal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tlh1203\\Desktop\\journal\\journal\\src\\components\\main-page.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tlh1203\\Desktop\\journal\\journal\\src\\components\\main-page.vue","mtime":1626085580624},{"path":"C:\\Users\\tlh1203\\Desktop\\journal\\journal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tlh1203\\Desktop\\journal\\journal\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\tlh1203\\Desktop\\journal\\journal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tlh1203\\Desktop\\journal\\journal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZXRVc2VybmFtZU1vZGFsIGZyb20gIi4vc2V0LXVzZXJuYW1lLWRpYWxvZy52dWUiOwppbXBvcnQgTmV3RW50cnlNb2RhbCBmcm9tICIuL25ldy1lbnRyeS1kaWFsb2cudnVlIjsKaW1wb3J0IERheVBhbmVsIGZyb20gIi4vZGF5LXBhbmVsLnZ1ZSIKaW1wb3J0IHsgZ2V0VXNlck5hbWUsIHNldE5hbWUsIGNyZWF0ZU5ld0VudHJ5LCBnZXRBbGxKb3VybmFsRW50cmllcywgZGVsZXRlRW50cnkgfSBmcm9tICIuL3NlcnZpY2VzLnRzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFpblBhZ2UiLAogIGNvbXBvbmVudHM6IHsKICAgIFNldFVzZXJuYW1lTW9kYWwsCiAgICBOZXdFbnRyeU1vZGFsLAogICAgRGF5UGFuZWwKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICB1c2VybmFtZURpYWxvZ09wZW46IGZhbHNlLAogICAgICBuZXdFbnRyeURpYWxvZ09wZW46IGZhbHNlLAogICAgICBqb3VybmFsRW50cmllczogW10sCiAgICB9OwogIH0sCiAgYmVmb3JlTW91bnQoKSB7CiAgICAgZ2V0VXNlck5hbWUoKSA/IHRoaXMudXNlcm5hbWUgPSBnZXRVc2VyTmFtZSgpIDogdGhpcy5vcGVuVXNlcm5hbWVEaWFsb2coKTsKICAgICB0aGlzLmpvdXJuYWxFbnRyaWVzID0gZ2V0QWxsSm91cm5hbEVudHJpZXMoKTsKICAgIAogIH0sCgogIG1ldGhvZHM6IHsKICBnZXREYXlEYXRlKGRhdGUpewogICAgICByZXR1cm4gZGF0ZS50b0RhdGVTdHJpbmcoKQogICAgfSwgCiAgICBvcGVuVXNlcm5hbWVEaWFsb2coKSB7CiAgICAgIHRoaXMudXNlcm5hbWVEaWFsb2dPcGVuID0gdHJ1ZTsKICAgIH0sCgogICAgY2xvc2VVc2VybmFtZURpYWxvZygpIHsKICAgICAgdGhpcy51c2VybmFtZURpYWxvZ09wZW4gPSBmYWxzZTsKICAgIH0sCgogICAgc3VibWl0VXNlcm5hbWUodXNlcm5hbWUpewogICAgICBzZXROYW1lKHVzZXJuYW1lKTsKICAgICAgdGhpcy51c2VybmFtZSA9IGdldFVzZXJOYW1lKCk7CiAgICAgIHRoaXMuY2xvc2VVc2VybmFtZURpYWxvZygpOwogICAgfSwKCiAgICBvcGVuTmV3RW50cnlEaWFsb2coKSB7CiAgICAgIHRoaXMubmV3RW50cnlEaWFsb2dPcGVuID0gdHJ1ZTsKICAgIH0sCgogICAgY2xvc2VOZXdFbnRyeURpYWxvZygpIHsKICAgICAgdGhpcy5uZXdFbnRyeURpYWxvZ09wZW4gPSBmYWxzZTsKICAgIH0sCgogICAgc2F2ZU5ld0VudHJ5KGVudHJ5KXsKICAgICAgY3JlYXRlTmV3RW50cnkoZW50cnkpOwogICAgICB0aGlzLmpvdXJuYWxFbnRyaWVzID0gZ2V0QWxsSm91cm5hbEVudHJpZXMoKQogICAgICB0aGlzLmNsb3NlTmV3RW50cnlEaWFsb2coKTsKICAgIH0sCgogICAgZGVsZXRlZEVudHJ5KGtleSl7CiAgICAgIGRlbGV0ZUVudHJ5KGtleSk7CiAgICAgIHRoaXMuam91cm5hbEVudHJpZXMgPSBnZXRBbGxKb3VybmFsRW50cmllcygpCiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["main-page.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"main-page.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"main-page\">\n    <div class=\"header\">\n      <h1 v-if=\"!username\">My Digital Journal</h1>\n      <h1 v-else>{{username}}'s Journal</h1>\n      <md-button class=\"md-icon-button md-raised md-primary\" style=\"margin:auto\" @click=\"openNewEntryDialog\">\n        <md-icon>add</md-icon>\n      </md-button>\n    </div>\n    <!-- day panels  -->\n    <day-panel v-for=\"panel in journalEntries\" \n    :key=\"getDayDate(panel.day)\" \n    :header=\"getDayDate(panel.day)\" \n    :entries=\"panel.entries\"\n    @deleted=\"deletedEntry($event)\"></day-panel>\n    \n    <!-- Dialog to Set Username -->\n    <set-username-modal\n      :open=\"usernameDialogOpen\"\n      @close=\"closeUsernameDialog\"\n      @submit=\"submitUsername($event)\"\n    ></set-username-modal>\n\n    <!-- Dialog to create new entry -->\n    <new-entry-modal\n    :open=\" newEntryDialogOpen\"\n    @cancel=\"closeNewEntryDialog\"\n    @save=\"saveNewEntry($event)\"></new-entry-modal>\n  </div>\n</template>\n\n<script>\nimport SetUsernameModal from \"./set-username-dialog.vue\";\nimport NewEntryModal from \"./new-entry-dialog.vue\";\nimport DayPanel from \"./day-panel.vue\"\nimport { getUserName, setName, createNewEntry, getAllJournalEntries, deleteEntry } from \"./services.ts\";\n\nexport default {\n  name: \"MainPage\",\n  components: {\n    SetUsernameModal,\n    NewEntryModal,\n    DayPanel\n  },\n\n  data() {\n    return {\n      username: '',\n      usernameDialogOpen: false,\n      newEntryDialogOpen: false,\n      journalEntries: [],\n    };\n  },\n  beforeMount() {\n     getUserName() ? this.username = getUserName() : this.openUsernameDialog();\n     this.journalEntries = getAllJournalEntries();\n    \n  },\n\n  methods: {\n  getDayDate(date){\n      return date.toDateString()\n    }, \n    openUsernameDialog() {\n      this.usernameDialogOpen = true;\n    },\n\n    closeUsernameDialog() {\n      this.usernameDialogOpen = false;\n    },\n\n    submitUsername(username){\n      setName(username);\n      this.username = getUserName();\n      this.closeUsernameDialog();\n    },\n\n    openNewEntryDialog() {\n      this.newEntryDialogOpen = true;\n    },\n\n    closeNewEntryDialog() {\n      this.newEntryDialogOpen = false;\n    },\n\n    saveNewEntry(entry){\n      createNewEntry(entry);\n      this.journalEntries = getAllJournalEntries()\n      this.closeNewEntryDialog();\n    },\n\n    deletedEntry(key){\n      deleteEntry(key);\n      this.journalEntries = getAllJournalEntries()\n    }\n  },\n};\n</script>\n\n<style>\nh1{\n  font-size: 3em;\n  text-decoration: underline;\n}\n.header{\n  display: flex;\n  margin-bottom: 20px;\n}\n.add{\n  margin: 25px;\n}\n.main-page{\n  margin: 20px;\n}\n.md-dialog-container{\n  padding: 20px !important;\n}\n</style>\n"]}]}